本日は、アウトプット会の登壇資料を作成した。
登壇内容は、ポリモーフィズムに決定した。
ポリモーフィズムの簡単な概念は、共通のメソッド名（共通のインターフェイスと表現している場合もある）を使うが、クラスによって処理が変わるということだ。

ポリモーフィズムの概念を利用したRailsの機能の一つがSTI（Single Table Inheritance)である。
共通したcolumnを持つテーブルを、一つのテーブルにまとめたものである。
共通したcolumnを持つテーブルを仮想のテーブルとするということだ。
STIを適用したテーブルにはtypeとtype_idという特別なcolumnを持ち、typeには仮想テーブルのmodel名が入る。
共通したcolumnを持つテーブルが増える見込みであれば、いちいちテーブルを増やすことなく、そのmodelにSTIのmodelを継承させる等し、仮想のテーブルを作成することができる。

もう一つ学んだのは、ActiveStorageである。
例えば、User,board,などに画像の情報を持たせたいとする。
その際、それぞれのテーブルにimageというような columnを追加することとなる。
しかし、ActiveStorageを使えば、columnを追加する必要はない。
アソシエーションを定義するだけで、画像 columnを持たせることができるのだ。

active_storage_blobs
ファイルそのものの情報（名前・サイズ・MIMEタイプ・URLなど）

active_storage_attachments
どのモデル（Pokemonなど）に紐づいているかを管理

active_storage_variant_records
画像の加工（サムネイルなど）を保存（Rails 7以降）

これらのテーブルが生成される。

次に、少しだけ（２時間くらい）ActiveRecord演習に取り組んだ。
今日、学んだことは
・SQLに記述するJOINのテーブル名は、実際のテーブル名にする（今回は単数系）
・ActiveRecordは、中間テーブルの記述を省略できる。自動でJoinsしてくれる。
```
Category.joins(films: { inventories: { rentals: :payments } })
と記述すると、中間テーブルである film_category が自動でJoinsされる。
```

明日も、アウトプット会の登壇資料を作成する。
明日には、資料を形にしたい。
また、ActiveRecord演習の学習方法を変えようと思う。
５分考えて、解けそうになければ、回答を確認する。
解けそうだと思ったら、そのまま思考する。
ここに時間をかけるのは非効率である。
